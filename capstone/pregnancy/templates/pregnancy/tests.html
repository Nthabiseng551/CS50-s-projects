{% extends "pregnancy/layout.html" %}

{% block body %}
    <h3>Keep track of tests you have done, not all are compulsory some depends on the individual,Each test you get will vary according to your risk for certain conditions; List of common prenatal tests,</h3>
    <h3 id="tests-done"></h3>
    <div>
        <h4>First Trimester Tests and Screenings</h4>
    {% for test in tests1 %}
    <p>{{ test.test_name }}</p>
        <button onclick="testdone()" class="btn btn-sm btn-outline-primary">Done</button>
    {% endfor %}
    </div>
    <div>
        <h4>Second Trimester Tests and Screenings</h4>
        {% for test in tests2 %}
        <p>{{ test.test_name }}</p>
            <button onclick="testdone()" class = "btn btn-sm btn-outline-primary">Done</button>
        {% endfor %}
    </div>
        <div>
            <h4>Third Trimester Tests and Screenings</h4>
            {% for test in tests3 %}
            <p>{{ test.test_name }}</p>
            <button onclick="testdone()" class = "btn btn-sm btn-outline-primary">Done</button>
            {% endfor %}
        </div>
        <script>


            function testdone(){

                const btn = event.target;
                let testsdone = localStorage.getItem('testsdone');
                let done = localStorage.getItem('done');

                if (done==="False"){
                    testsdone++;
                    done = 'True';
                    btn.innerHTML = "notDone";
                    localStorage.setItem('testsdone', testsdone);
                    localStorage.setItem('done', done);
                }
                else if (done==="True"){
                    testsdone--;
                    done = 'False';
                    btn.innerHTML = "Done";
                    localStorage.setItem('testsdone', testsdone);
                    localStorage.setItem('done', done);
                }

            }
        document.addEventListener('DOMContentLoaded', function() {
            if (!localStorage.getItem('testsdone')) {
                    localStorage.setItem('testsdone', 0);
                    }
            if (!localStorage.getItem('done')) {
                localStorage.setItem('done', 'False');
                }
            if (!localStorage.getItem('btn html')) {
                localStorage.setItem('btn html', 'Done');
                }
            document.querySelector('#tests-done').innerHTML = localStorage.getItem('testsdone');
            document.querySelector('#tests-done').innerHTML = localStorage.getItem('btn html');

    });
        </script>
{% endblock %}
